{"version":3,"sources":["webpack:///./src/views/main/childComps/singer/childComps/SingerCategory.vue?d7a9","webpack:///./src/views/main/childComps/singer/Singer.vue?8268","webpack:///./src/views/main/childComps/singer/childComps/SingerCategory.vue?3e35","webpack:///src/views/main/childComps/singer/childComps/SingerCategory.vue","webpack:///./src/views/main/childComps/singer/childComps/SingerCategory.vue?3ffb","webpack:///./src/views/main/childComps/singer/childComps/SingerCategory.vue","webpack:///./src/views/main/childComps/singer/childComps/SingerList.vue?ee0c","webpack:///src/views/main/childComps/singer/childComps/SingerList.vue","webpack:///./src/views/main/childComps/singer/childComps/SingerList.vue?a0c9","webpack:///./src/views/main/childComps/singer/childComps/SingerList.vue","webpack:///src/views/main/childComps/singer/Singer.vue","webpack:///./src/views/main/childComps/singer/Singer.vue?3a0b","webpack:///./src/views/main/childComps/singer/Singer.vue","webpack:///./src/views/main/childComps/singer/childComps/SingerList.vue?2edc","webpack:///./src/common/mixin.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","transitionName","ref","staticClass","singerList","on","pullingUp","getSingers","directives","name","rawName","value","expression","_v","_s","tips","length","staticRenderFns","_l","key","item","index","class","activeIndex","$event","singerCategoryClick","data","singerCategory","type","area","methods","$emit","num","component","id","setSinger","transition","beforeRouteLeave","to","from","next","meta","setTimeout","activated","$refs","scroll","refresh"],"mappings":"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","file":"js/chunk-281e4ab3.a24fa465.js","sourcesContent":["export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerCategory.vue?vue&type=style&index=0&id=c7978f30&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":_vm.transitionName}},[_c('div',[_c('scroll',{ref:\"scroll\",staticClass:\"main-scroll\",attrs:{\"list\":_vm.singerList,\"pullUpLoad\":true},on:{\"pullingUp\":_vm.pullingUp}},[_c('singer-category',{on:{\"singerSwitch\":_vm.getSingers}}),_c('singer-list',{attrs:{\"singerList\":_vm.singerList}}),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.singerList.length),expression:\"singerList.length\"}],staticClass:\"tips\"},[_vm._v(_vm._s(_vm.tips))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.singerList.length),expression:\"!singerList.length\"}],staticClass:\"loading-container\"},[_c('van-loading',{attrs:{\"type\":\"spinner\",\"color\":\"orangered\",\"size\":\"24px\"}},[_vm._v(\"加载中...\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"singer-type\"},_vm._l((_vm.singerCategory),function(value,key){return _c('div',{key:key,staticClass:\"singer-category\"},_vm._l((value),function(item,index){return _c('div',{key:index,staticClass:\"singer-category-value\"},[_c('span',{class:{ 'active-item': _vm.activeIndex[key] == index },on:{\"click\":function($event){return _vm.singerCategoryClick(key, index)}}},[_vm._v(_vm._s(item.name))])])}),0)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"singer-type\">\r\n    <div v-for=\"(value, key) in singerCategory\" :key=\"key\" class=\"singer-category\">\r\n      <div v-for=\"(item, index) in value\" :key=\"index\" class=\"singer-category-value\">\r\n        <span :class=\"{ 'active-item': activeIndex[key] == index }\" @click=\"singerCategoryClick(key, index)\">{{ item.name }}</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'SingerCategory',\r\n  data() {\r\n    return {\r\n      singerCategory: {\r\n        type: [\r\n          { name: '全部', num: -1 },\r\n          { name: '男歌手', num: 1 },\r\n          { name: '女歌手', num: 2 },\r\n          { name: '乐队', num: 3 }\r\n        ],\r\n        area: [\r\n          { name: '全部', num: -1 },\r\n          { name: '华语', num: 7 },\r\n          { name: '欧美', num: 96 },\r\n          { name: '日本', num: 8 },\r\n          { name: '韩国', num: 16 },\r\n          { name: '其他', num: 0 }\r\n        ]\r\n      },\r\n      activeIndex: {\r\n        type: 0,\r\n        area: 0\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    singerCategoryClick(key, index) {\r\n      this.activeIndex[key] = index\r\n      this.$emit('singerSwitch', this.singerCategory['type'][this.activeIndex['type']].num, this.singerCategory['area'][this.activeIndex['area']].num);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n  .singer-category {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    font-size: 14px;\r\n    margin-top: 10px;\r\n  }\r\n\r\n  .singer-category-value {\r\n    padding: 10px 0 10px 20px;\r\n  }\r\n\r\n  .singer-category-value span {\r\n    padding: 5px 5px;\r\n    border-radius: 5px;\r\n  }\r\n\r\n  .active-item {\r\n    background-color: orangered;\r\n    color: #fff;\r\n  }\r\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerCategory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerCategory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SingerCategory.vue?vue&type=template&id=c7978f30&scoped=true&\"\nimport script from \"./SingerCategory.vue?vue&type=script&lang=js&\"\nexport * from \"./SingerCategory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SingerCategory.vue?vue&type=style&index=0&id=c7978f30&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c7978f30\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"singer-list\"},_vm._l((_vm.singerList),function(item){return _c('router-link',{key:item.id,staticClass:\"singer-item\",attrs:{\"to\":'/artist/' + item.id},on:{\"click\":function($event){return _vm.setSinger(item)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.img1v1Url),expression:\"item.img1v1Url\"}],attrs:{\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(item.name))])])}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"singer-list\">\r\n    <router-link \r\n      class=\"singer-item\" \r\n      v-for=\"item in singerList\" \r\n      :key=\"item.id\"\r\n      :to=\"'/artist/' + item.id\"\r\n      @click=\"setSinger(item)\">\r\n      <img v-lazy=\"item.img1v1Url\" alt=\"\">\r\n      <span>{{ item.name }}</span>\r\n    </router-link>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'SingerList',\r\n    props: {\r\n      singerList: {\r\n        type: Array,\r\n        default() {\r\n          return []\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .singer-list {\r\n    margin-top: 30px;\r\n  }\r\n\r\n  .singer-item {\r\n    /* padding: 10px 0 15px 30px; */\r\n    height: 60px;\r\n    display: flex;\r\n    border-bottom: 1px solid #f6f6f6;\r\n    margin: 5px 30px 15px;\r\n  }\r\n\r\n  .singer-item img {\r\n    width: 60px;\r\n    height: 60px;\r\n    display: inline-block;\r\n    border-radius: 50%;\r\n  }\r\n\r\n  .singer-item span {\r\n    padding-left: 20px;\r\n    padding-top: 20px;\r\n  }\r\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SingerList.vue?vue&type=template&id=0d366bd1&scoped=true&\"\nimport script from \"./SingerList.vue?vue&type=script&lang=js&\"\nexport * from \"./SingerList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SingerList.vue?vue&type=style&index=0&id=0d366bd1&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d366bd1\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <transition :name=\"transitionName\">\r\n    <div>\r\n      <scroll :list=\"singerList\" :pullUpLoad=\"true\" ref=\"scroll\" @pullingUp=\"pullingUp\" class=\"main-scroll\">\r\n        <singer-category @singerSwitch=\"getSingers\"/>\r\n        <singer-list :singerList=\"singerList\"/>\r\n        <p class=\"tips\" v-show=\"singerList.length\">{{ tips }}</p>\r\n        <div class=\"loading-container\" v-show=\"!singerList.length\">\r\n          <van-loading type=\"spinner\" color=\"orangered\" size=\"24px\">加载中...</van-loading>\r\n        </div>\r\n      </scroll>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\n  import Scroll from '../../../../components/commom/Scroll.vue'\r\n  import SingerCategory from './childComps/SingerCategory.vue'\r\n  import SingerList from './childComps/SingerList.vue'\r\n  import {transition} from 'common/mixin'\r\n  export default {\r\n    name: 'Singer',\r\n    data() {\r\n      return {\r\n        type: -1,\r\n        area: -1,\r\n        singerList: [],\r\n        limit: 20,\r\n        tips: '上拉加载'\r\n      }\r\n    },\r\n    mixins: [transition],\r\n    components: {\r\n      SingerCategory,\r\n        SingerList,\r\n        Scroll\r\n    },\r\n    methods: {\r\n      getSingers(type, area) {\r\n        if(this.type != type || this.area != area) {\r\n          this.type = type\r\n          this.area = area\r\n          this.limit = 20\r\n          this.singerList = []\r\n          this.getSingerList()\r\n        }        \r\n      }, \r\n      async getSingerList() {\r\n        const res = await this.$https.get('/artist/list?type=' + this.type + '&area=' + this.area + '&limit=' + this.limit)\r\n        this.singerList = res.data.artists\r\n        // console.log(this.singerList)\r\n        this.limit += 20\r\n      },\r\n      pullingUp() {\r\n        if(this.singerList.length < 100) {\r\n          this.getSingerList()\r\n          this.$refs.scroll.finishPullUp()\r\n        }else {\r\n          this.tips = '已经到底了'\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      this.getSingerList()\r\n    }    \r\n  }\r\n</script>\r\n\r\n<style scpoed>\r\n  \r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Singer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Singer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Singer.vue?vue&type=template&id=3f01c292&\"\nimport script from \"./Singer.vue?vue&type=script&lang=js&\"\nexport * from \"./Singer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SingerList.vue?vue&type=style&index=0&id=0d366bd1&scoped=true&lang=css&\"","export const transition = {\r\n  data() {\r\n    return {\r\n      transitionName: ''\r\n    }\r\n  },\r\n  beforeRouteLeave (to, from, next) {\r\n    // console.log(to.meta.index, from.meta.index)\r\n    if(to.meta.index > from.meta.index) {\r\n      this.transitionName = 'first'\r\n    }else {\r\n      this.transitionName = 'second'\r\n    }\r\n    // console.log(this.transitionName)\r\n    setTimeout(() => {\r\n      next()\r\n    })\r\n  },\r\n  activated() {\r\n    this.$refs.scroll.refresh()\r\n  },  \r\n}\r\n"],"sourceRoot":""}