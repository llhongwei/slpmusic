{"version":3,"sources":["webpack:///./src/views/main/childComps/rank/Rank.vue?171a","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/views/main/childComps/rank/Rank.vue?adf5","webpack:///src/views/main/childComps/rank/Rank.vue","webpack:///./src/views/main/childComps/rank/Rank.vue?c121","webpack:///./src/views/main/childComps/rank/Rank.vue","webpack:///./src/common/mixin.js"],"names":["$","$map","map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","this","arguments","length","undefined","render","_vm","_h","$createElement","_c","_self","attrs","transitionName","ref","staticClass","rankList","_l","rank","key","id","directives","name","rawName","value","expression","arg","_v","_s","updateFrequency","staticRenderFns","components","component","transition","data","beforeRouteLeave","to","from","next","meta","index","setTimeout","activated","$refs","scroll","refresh"],"mappings":"yIAAA,W,kCCCA,IAAIA,EAAI,EAAQ,QACZC,EAAO,EAAQ,QAAgCC,IAC/CC,EAA+B,EAAQ,QAEvCC,EAAsBD,EAA6B,OAKvDH,EAAE,CAAEK,OAAQ,QAASC,OAAO,EAAMC,QAASH,GAAuB,CAChEF,IAAK,SAAaM,GAChB,OAAOP,EAAKQ,KAAMD,EAAYE,UAAUC,OAAS,EAAID,UAAU,QAAKE,O,yCCZxE,IAAIC,EAAS,WAAa,IAAIC,EAAIL,KAASM,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,aAAa,CAACE,MAAM,CAAC,KAAOL,EAAIM,iBAAiB,CAACH,EAAG,SAAS,CAACI,IAAI,SAASC,YAAY,cAAcH,MAAM,CAAC,KAAOL,EAAIS,WAAW,CAACN,EAAG,MAAM,CAACK,YAAY,QAAQR,EAAIU,GAAIV,EAAY,UAAE,SAASW,GAAM,OAAOR,EAAG,cAAc,CAACS,IAAID,EAAKE,GAAGL,YAAY,YAAYH,MAAM,CAAC,IAAM,MAAM,GAAK,aAAeM,EAAKE,KAAK,CAACV,EAAG,MAAM,CAACK,YAAY,kBAAkB,CAACL,EAAG,MAAM,CAACW,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,0BAA0BC,MAAON,EAAQ,IAAEO,WAAW,WAAWC,IAAI,qBAAqBX,YAAY,kBAAkB,CAACL,EAAG,OAAO,CAACH,EAAIoB,GAAGpB,EAAIqB,GAAGV,EAAKW,sBAAsBnB,EAAG,IAAI,CAACH,EAAIoB,GAAGpB,EAAIqB,GAAGV,EAAKI,gBAAe,GAAGZ,EAAG,MAAM,CAACW,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,OAAQjB,EAAIS,SAASZ,OAAQqB,WAAW,qBAAqBV,YAAY,qBAAqB,CAACL,EAAG,cAAc,CAACE,MAAM,CAAC,KAAO,UAAU,MAAQ,YAAY,KAAO,SAAS,CAACL,EAAIoB,GAAG,aAAa,MAAM,IAC/7BG,EAAkB,G,oECuBtB,GACEC,WAAY,CAAd,eACE,KAAF,OACE,KAHF,WAII,MAAJ,CACM,SAAN,KAGE,OAAF,SACE,QAAF,CACI,YADJ,WACM,IAAN,OAAM,OAAN,4JACA,yBADA,OACA,EADA,OAGA,wCACA,OACA,QACA,kBACA,YACA,sCARA,+CAcE,QAxBF,WAyBI,KAAJ,gBCjD2X,I,wBCQvXC,EAAY,eACd,EACA1B,EACAwB,GACA,EACA,KACA,WACA,MAIa,aAAAE,E,2CCnBf,kCAAO,IAAMC,EAAa,CACxBC,KADwB,WAEtB,MAAO,CACLrB,eAAgB,KAGpBsB,iBANwB,SAMNC,EAAIC,EAAMC,GAEvBF,EAAGG,KAAKC,MAAQH,EAAKE,KAAKC,MAC3BtC,KAAKW,eAAiB,QAEtBX,KAAKW,eAAiB,SAGxB4B,YAAW,WACTH,QAGJI,UAlBwB,WAmBtBxC,KAAKyC,MAAMC,OAAOC","file":"js/chunk-33478534.5e3263af.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=style&index=0&id=30826411&scoped=true&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":_vm.transitionName}},[_c('scroll',{ref:\"scroll\",staticClass:\"main-scroll\",attrs:{\"list\":_vm.rankList}},[_c('div',{staticClass:\"rank\"},_vm._l((_vm.rankList),function(rank){return _c('router-link',{key:rank.id,staticClass:\"rank-list\",attrs:{\"tag\":\"div\",\"to\":'/playlist/' + rank.id}},[_c('div',{staticClass:\"rank-list-item\"},[_c('div',{directives:[{name:\"lazy\",rawName:\"v-lazy:background-image\",value:(rank.img),expression:\"rank.img\",arg:\"background-image\"}],staticClass:\"rank-item-main\"},[_c('span',[_vm._v(_vm._s(rank.updateFrequency))])]),_c('p',[_vm._v(_vm._s(rank.name))])])])}),1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.rankList.length),expression:\"!rankList.length\"}],staticClass:\"loading-container\"},[_c('van-loading',{attrs:{\"type\":\"spinner\",\"color\":\"orangered\",\"size\":\"24px\"}},[_vm._v(\"加载中...\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <transition :name=\"transitionName\">\r\n    <scroll :list=\"rankList\" class=\"main-scroll\" ref=\"scroll\">\r\n      <div class=\"rank\">\r\n        <router-link v-for=\"rank in rankList\" :key=\"rank.id\" class=\"rank-list\" tag=\"div\" :to=\"'/playlist/' + rank.id\">\r\n          <div class=\"rank-list-item\">\r\n            <div v-lazy:background-image=\"rank.img\" class=\"rank-item-main\">\r\n              <span>{{rank.updateFrequency}}</span>\r\n            </div>\r\n            <p>{{rank.name}}</p>\r\n          </div>\r\n        </router-link>\r\n      </div>\r\n      <div class=\"loading-container\" v-show=\"!rankList.length\">\r\n        <van-loading type=\"spinner\" color=\"orangered\" size=\"24px\">加载中...</van-loading>\r\n      </div>\r\n    </scroll>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\n  import Scroll from 'components/commom/Scroll.vue'\r\n  import {transition} from 'common/mixin'\r\n\r\n  export default {\r\n  components: { Scroll },\r\n    name: 'Rank',\r\n    data() {\r\n      return {\r\n        rankList: []\r\n      }\r\n    },\r\n    mixins: [transition],\r\n    methods: {\r\n      async getRankList() {\r\n        const rankRes = await this.$https.get(`/toplist`)\r\n        // console.log(rankRes)\r\n        this.rankList = rankRes.data.list.map(item => {\r\n          return {\r\n            id: item.id,\r\n            img: item.coverImgUrl,\r\n            name: item.name,\r\n            updateFrequency: item.updateFrequency\r\n          }\r\n        })\r\n        // console.log(this.rankList)  \r\n      }\r\n    },\r\n    created() {\r\n      this.getRankList()\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .rank {\r\n    width: 100%;\r\n    padding-bottom: 50px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: flex-start;\r\n  }\r\n\r\n  .rank:after {\r\n    contain: \"\";\r\n    height: 0;\r\n    width: 33%;\r\n  }\r\n\r\n  .rank-list {\r\n    width: 33%;\r\n    height: 150px;\r\n  }\r\n\r\n  .rank-list-item {\r\n    margin: 10px 10px;\r\n    font-size: 14px;\r\n  }\r\n\r\n  .rank-item-main {\r\n    width: 100px;\r\n    height: 100px;\r\n    background-size: contain;\r\n    border-radius: 10px;\r\n    position: relative;\r\n  }\r\n\r\n  .rank-item-main span {\r\n    position: absolute;\r\n    right: 5px;\r\n    top: 3px;\r\n    font-size: 10px;\r\n    color: #fff;\r\n  }\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Rank.vue?vue&type=template&id=30826411&scoped=true&\"\nimport script from \"./Rank.vue?vue&type=script&lang=js&\"\nexport * from \"./Rank.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Rank.vue?vue&type=style&index=0&id=30826411&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30826411\",\n  null\n  \n)\n\nexport default component.exports","export const transition = {\r\n  data() {\r\n    return {\r\n      transitionName: ''\r\n    }\r\n  },\r\n  beforeRouteLeave (to, from, next) {\r\n    // console.log(to.meta.index, from.meta.index)\r\n    if(to.meta.index > from.meta.index) {\r\n      this.transitionName = 'first'\r\n    }else {\r\n      this.transitionName = 'second'\r\n    }\r\n    // console.log(this.transitionName)\r\n    setTimeout(() => {\r\n      next()\r\n    })\r\n  },\r\n  activated() {\r\n    this.$refs.scroll.refresh()\r\n  },  \r\n}\r\n"],"sourceRoot":""}