(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e32b6d4"],{"273f":function(e,t,n){"use strict";n("e6d8")},4595:function(e,t,n){"use strict";n("4cb0")},"4cb0":function(e,t,n){},b000:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:e.transitionName}},[n("div",{staticClass:"recommend"},[n("scroll",{ref:"scroll",staticClass:"main-scroll",attrs:{list:e.recommendList,pullUpLoad:!0},on:{pullingUp:e.pullingUp}},[n("swiper",{attrs:{banners:e.banners}}),n("recommend-list",{attrs:{recommendList:e.recommendList}}),n("p",{directives:[{name:"show",rawName:"v-show",value:e.recommendList.length,expression:"recommendList.length"}],staticClass:"tips"},[e._v(e._s(e.tips))]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.recommendList.length,expression:"!recommendList.length"}],staticClass:"loading-container"},[n("van-loading",{attrs:{type:"spinner",color:"orangered",size:"24px"}},[e._v("加载中...")])],1)],1)],1)])},r=[],s=n("1da1"),a=(n("d81d"),n("b0c0"),n("96cf"),n("d529")),c=n("ba7b"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"white"}},e._l(e.banners,(function(e,t){return n("van-swipe-item",{key:t},[n("img",{staticClass:"swipe-img",attrs:{src:e.pic}})])})),1)],1)},m=[],l={name:"HomeSwiper",props:{banners:{type:Array,default:function(){return[]}}}},u=l,d=(n("273f"),n("2877")),p=Object(d["a"])(u,o,m,!1,null,null,null),f=p.exports,h=n("eecb"),v={name:"Recommend",data:function(){return{banners:[],recommendList:[],limit:20,tips:"上拉加载"}},mixins:[h["a"]],methods:{getRecommendBanner:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$https.get("banner?type=1");case 2:n=t.sent,e.banners=n.data.banners;case 4:case"end":return t.stop()}}),t)})))()},getRecommendList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$https.get("/personalized?limit="+e.limit);case 2:n=t.sent,e.recommendList=n.data.result.map((function(e){return{id:e.id,name:e.name,copywriter:e.copywriter,img:e.picUrl}})),e.limit+=20;case 5:case"end":return t.stop()}}),t)})))()},pullingUp:function(){this.limit===this.recommendList.length+20?(this.getRecommendList(),this.$refs.scroll.finishPullUp()):this.tips="已经到底了"}},components:{RecommendList:c["a"],Scroll:a["a"],Swiper:f},created:function(){this.getRecommendList(),this.getRecommendBanner()}},w=v,g=Object(d["a"])(w,i,r,!1,null,null,null);t["default"]=g.exports},ba7b:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"recommend-list"},e._l(e.recommendList,(function(t){return n("router-link",{key:t.id,staticClass:"recommend-list-item",attrs:{tag:"div",to:"/playlist/"+t.id}},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img,expression:"item.img"}]}),n("div",{staticClass:"item-info"},[n("p",{staticClass:"otws"},[e._v(e._s(t.name))]),n("p",{staticClass:"otws"},[e._v(e._s(t.copywriter))])])])})),1)},r=[],s={name:"RecommendList",props:{recommendList:{type:Array,default:function(){return[]}}}},a=s,c=(n("4595"),n("2877")),o=Object(c["a"])(a,i,r,!1,null,"796e51e0",null);t["a"]=o.exports},d81d:function(e,t,n){"use strict";var i=n("23e7"),r=n("b727").map,s=n("1dde"),a=s("map");i({target:"Array",proto:!0,forced:!a},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},e6d8:function(e,t,n){},eecb:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={data:function(){return{transitionName:""}},beforeRouteLeave:function(e,t,n){e.meta.index>t.meta.index?this.transitionName="first":this.transitionName="second",setTimeout((function(){n()}))},activated:function(){this.$refs.scroll.refresh()}}}}]);
//# sourceMappingURL=chunk-6e32b6d4.54f3b901.js.map