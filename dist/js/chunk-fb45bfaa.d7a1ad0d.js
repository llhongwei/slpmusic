(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fb45bfaa"],{"0384":function(t,n,e){t.exports=e.p+"img/back-arrow.4bcb4cf8.svg"},"09c5":function(t,n,e){"use strict";e.r(n);var s=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("transition",{attrs:{name:"first"}},[s("div",[s("play-top",{attrs:{introduce:t.playTopMessage}}),t.songList.length>0?s("div",{staticClass:"song-list-title",on:{click:t.playAll}},[s("img",{attrs:{src:e("435e"),alt:""}}),s("h4",[t._v("播放全部("+t._s(t.songList.length)+")")])]):t._e(),s("scroll",{staticClass:"play-list-scroll",attrs:{top:200,list:t.songList}},[s("song-list",{attrs:{songList:t.songList}})],1)],1)])},i=[],a=e("1da1"),r=e("5530"),o=(e("96cf"),e("b0c0"),e("6ffc")),c=function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("div",{staticClass:"paly-top",style:"background-color:"+t.color[t.selectColor]},[s("div",{staticClass:"play-top-back"},[s("img",{attrs:{src:e("0384"),alt:""},on:{click:t.back}})]),s("div",{staticClass:"top-left",style:{"background-image":"url("+t.introduce.img+")"}},[s("div",[s("img",{attrs:{src:e("49cc"),alt:""}}),s("span",[t._v(t._s(t._f("playsFilter")(t.introduce.playCount)))])])]),s("div",{staticClass:"top-right"},[s("h4",[t._v(t._s(t.introduce.name))]),s("div",t._l(t.introduce.tags,(function(n,e){return s("span",{key:e},[t._v(t._s(n))])})),0)])])},l=[],u=(e("b680"),{name:"PlayTop",data:function(){return{color:["rgb(252, 228, 244)","rgb(228, 232, 252)","rgb(228, 252, 232)","rgb(252, 228, 229)","rgb(252, 242, 228)","rgb(235, 228, 252)"],selectColor:0}},props:{introduce:{type:Object,default:function(){return{}}}},methods:{back:function(){this.$router.go(-1)}},filters:{playsFilter:function(t){return t<1e3?t:(t/1e4).toFixed(1)+"万"}},mounted:function(){this.selectColor=Math.floor(6*Math.random())}}),d=u,f=(e("1fac"),e("2877")),g=Object(f["a"])(d,c,l,!1,null,"14b50888",null),p=g.exports,h=e("d529"),v=e("2f62"),m={name:"PlayList",data:function(){return{playListId:null,playTopMessage:{},songList:[]}},components:{PlayTop:p,SongList:o["a"],Scroll:h["a"]},methods:Object(r["a"])(Object(r["a"])({getPlayList:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var e,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$https.get("/playlist/detail?id="+t.playListId);case 2:e=n.sent,s=e.data.playlist,t.playTopMessage={img:s.coverImgUrl,name:s.name,playCount:s.playCount,tags:s.tags},t.songList=s.tracks;case 6:case"end":return n.stop()}}),n)})))()},playAll:function(){var t=this;0!=this.playList.length?this.$dialog.confirm({title:"播放列表",message:"当前播放列表将会被替换，是否确定？",confirmButtonColor:"orangered"}).then((function(){t.selectPlay(t.songList),t.setCurrentIndex(0),t.setMode(1)})).catch((function(){})):(this.selectPlay(this.songList),this.setCurrentIndex(0),this.setMode(1))}},Object(v["b"])(["selectPlay"])),Object(v["d"])({setCurrentIndex:"SET_CURRENT_INDEX",setMode:"SET_MODE"})),computed:Object(r["a"])({},Object(v["c"])(["playList"])),created:function(){this.playListId=this.$route.params.playListId,this.getPlayList()}},b=m,y=(e("97f4"),Object(f["a"])(b,s,i,!1,null,"3a1ed57e",null));n["default"]=y.exports},1148:function(t,n,e){"use strict";var s=e("a691"),i=e("1d80");t.exports=function(t){var n=String(i(this)),e="",a=s(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(n+=n))1&a&&(e+=n);return e}},"1fac":function(t,n,e){"use strict";e("4a0f")},"408a":function(t,n,e){var s=e("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=s(t))throw TypeError("Incorrect invocation");return+t}},"435e":function(t,n,e){t.exports=e.p+"img/larkcloud_play.f5d00202.svg"},"49cc":function(t,n,e){t.exports=e.p+"img/music.b74a624e.svg"},"4a0f":function(t,n,e){},"6ffc":function(t,n,e){"use strict";var s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"song-list"},t._l(t.songList,(function(n,s){return e("div",{key:n.id,staticClass:"song-list-item"},[e("div",{staticClass:"song-list-num"},[t._v(t._s(s+1))]),e("div",{staticClass:"song-list-item-detail",on:{click:function(e){return t.addAndPlay(n)}}},[e("h4",[t._v(t._s(n.name))]),e("p",[e("span",[t._v(t._s(t._f("artists")(n.ar)))]),e("span",[t._v(t._s(n.al.name))])])]),e("div",{staticClass:"add-song",on:{click:function(e){return t.addSong(n)}}},[e("span",[t._v("+")])])])})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.songList.length,expression:"!songList.length"}],staticClass:"loading-container"},[e("van-loading",{attrs:{type:"spinner",color:"orangered",size:"24px"}},[t._v("加载中...")])],1)])},i=[],a=e("5530"),r=(e("b0c0"),e("2f62")),o={name:"SongList",props:{songList:{type:Array,default:function(){return[]}}},methods:Object(a["a"])(Object(a["a"])({addAndPlay:function(t){this.addPlaySong(t),-1===this.atIndex?this.addAndPlaySong(this.currentIndex+1):(this.addAndPlaySong(this.atIndex),this.setAtIndex(-1))},addSong:function(t){var n=this;this.addPlaySong(t),-1!=this.atIndex?this.$dialog.confirm({title:t.name,message:"在播放列表中已存在，是否播放？",confirmButtonColor:"orangered"}).then((function(){n.addAndPlaySong(n.atIndex),n.setAtIndex(-1)})).catch((function(){n.setAtIndex(-1)})):this.$toast.success({message:"添加成功",duration:500})}},Object(r["d"])({addPlaySong:"ADD_PLAY_SONG",setAtIndex:"SET_AT_INDEX"})),Object(r["b"])(["addAndPlaySong"])),computed:Object(a["a"])({},Object(r["c"])(["currentIndex","atIndex","currentSong","playing"])),filters:{artists:function(t){for(var n="",e=0;e<t.length;e++)e+1!=t.length?n=n+t[e].name+"/":n+=t[e].name;return n}}},c=o,l=(e("d520"),e("2877")),u=Object(l["a"])(c,s,i,!1,null,"b2e5c084",null);n["a"]=u.exports},7893:function(t,n,e){},"97f4":function(t,n,e){"use strict";e("7893")},b680:function(t,n,e){"use strict";var s=e("23e7"),i=e("a691"),a=e("408a"),r=e("1148"),o=e("d039"),c=1..toFixed,l=Math.floor,u=function(t,n,e){return 0===n?e:n%2===1?u(t,n-1,e*t):u(t*t,n/2,e)},d=function(t){var n=0,e=t;while(e>=4096)n+=12,e/=4096;while(e>=2)n+=1,e/=2;return n},f=function(t,n,e){var s=-1,i=e;while(++s<6)i+=n*t[s],t[s]=i%1e7,i=l(i/1e7)},g=function(t,n){var e=6,s=0;while(--e>=0)s+=t[e],t[e]=l(s/n),s=s%n*1e7},p=function(t){var n=6,e="";while(--n>=0)if(""!==e||0===n||0!==t[n]){var s=String(t[n]);e=""===e?s:e+r.call("0",7-s.length)+s}return e},h=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!o((function(){c.call({})}));s({target:"Number",proto:!0,forced:h},{toFixed:function(t){var n,e,s,o,c=a(this),l=i(t),h=[0,0,0,0,0,0],v="",m="0";if(l<0||l>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(v="-",c=-c),c>1e-21)if(n=d(c*u(2,69,1))-69,e=n<0?c*u(2,-n,1):c/u(2,n,1),e*=4503599627370496,n=52-n,n>0){f(h,0,e),s=l;while(s>=7)f(h,1e7,0),s-=7;f(h,u(10,s,1),0),s=n-1;while(s>=23)g(h,1<<23),s-=23;g(h,1<<s),f(h,1,1),g(h,2),m=p(h)}else f(h,0,e),f(h,1<<-n,0),m=p(h)+r.call("0",l);return l>0?(o=m.length,m=v+(o<=l?"0."+r.call("0",l-o)+m:m.slice(0,o-l)+"."+m.slice(o-l))):m=v+m,m}})},d520:function(t,n,e){"use strict";e("dc22")},dc22:function(t,n,e){}}]);
//# sourceMappingURL=chunk-fb45bfaa.d7a1ad0d.js.map