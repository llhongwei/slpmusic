(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-360b5b8e"],{"0384":function(t,s,e){t.exports=e.p+"img/back-arrow.4bcb4cf8.svg"},"2ae5":function(t,s,e){},"435e":function(t,s,e){t.exports=e.p+"img/larkcloud_play.f5d00202.svg"},6228:function(t,s,e){},"6ffc":function(t,s,e){"use strict";var n=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"song-list"},t._l(t.songList,(function(s,n){return e("div",{key:s.id,staticClass:"song-list-item"},[e("div",{staticClass:"song-list-num"},[t._v(t._s(n+1))]),e("div",{staticClass:"song-list-item-detail",on:{click:function(e){return t.addAndPlay(s)}}},[e("h4",[t._v(t._s(s.name))]),e("p",[e("span",[t._v(t._s(t._f("artists")(s.ar)))]),e("span",[t._v(t._s(s.al.name))])])]),e("div",{staticClass:"add-song",on:{click:function(e){return t.addSong(s)}}},[e("span",[t._v("+")])])])})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.songList.length,expression:"!songList.length"}],staticClass:"loading-container"},[e("van-loading",{attrs:{type:"spinner",color:"orangered",size:"24px"}},[t._v("加载中...")])],1)])},a=[],i=e("5530"),r=(e("b0c0"),e("2f62")),c={name:"SongList",props:{songList:{type:Array,default:function(){return[]}}},methods:Object(i["a"])(Object(i["a"])({addAndPlay:function(t){this.addPlaySong(t),-1===this.atIndex?this.addAndPlaySong(this.currentIndex+1):(this.addAndPlaySong(this.atIndex),this.setAtIndex(-1))},addSong:function(t){var s=this;this.addPlaySong(t),-1!=this.atIndex?this.$dialog.confirm({title:t.name,message:"在播放列表中已存在，是否播放？",confirmButtonColor:"orangered"}).then((function(){s.addAndPlaySong(s.atIndex),s.setAtIndex(-1)})).catch((function(){s.setAtIndex(-1)})):this.$toast.success({message:"添加成功",duration:500})}},Object(r["d"])({addPlaySong:"ADD_PLAY_SONG",setAtIndex:"SET_AT_INDEX"})),Object(r["b"])(["addAndPlaySong"])),computed:Object(i["a"])({},Object(r["c"])(["currentIndex","atIndex","currentSong","playing"])),filters:{artists:function(t){for(var s="",e=0;e<t.length;e++)e+1!=t.length?s=s+t[e].name+"/":s+=t[e].name;return s}}},o=c,l=(e("d520"),e("2877")),d=Object(l["a"])(o,n,a,!1,null,"b2e5c084",null);s["a"]=d.exports},a2d8:function(t,s,e){"use strict";e("6228")},b501:function(t,s,e){"use strict";e("2ae5")},d520:function(t,s,e){"use strict";e("dc22")},dc22:function(t,s,e){},f48f:function(t,s,e){"use strict";e.r(s);var n=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("transition",{attrs:{name:"first"}},[n("div",[n("artist-top",{attrs:{artistMessage:t.artistTop}}),t.artistSongs.length>0?n("div",{staticClass:"song-list-title",on:{click:t.playAll}},[n("img",{attrs:{src:e("435e"),alt:""}}),n("h4",[t._v("播放全部("+t._s(t.artistSongs.length)+")")])]):t._e(),n("scroll",{staticClass:"artist-scroll",attrs:{top:250,list:t.artistSongs}},[n("song-list",{attrs:{songList:t.artistSongs}})],1)],1)])},a=[],i=e("1da1"),r=e("5530"),c=(e("96cf"),e("b0c0"),e("d529")),o=e("6ffc"),l=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"artist-top",style:{"background-image":"url("+t.artistMessage.img+")"}},[n("div",{staticClass:"artist-top-back"},[n("img",{attrs:{src:e("0384")},on:{click:t.back}})]),n("div",{staticClass:"artist-message"},[n("span",[t._v(t._s(t.artistMessage.name))]),n("div",{staticClass:"artist-brief"},[n("p",[t._v(t._s(t.artistMessage.briefDesc))])])])])},d=[],u={name:"ArtistTop",props:{artistMessage:{type:Object,default:function(){return{}}}},methods:{back:function(){this.$router.go(-1)}}},g=u,f=(e("a2d8"),e("2877")),p=Object(f["a"])(g,l,d,!1,null,"24f8db70",null),h=p.exports,m=e("2f62"),b={name:"Artist",data:function(){return{artistId:null,artistTop:{},artistSongs:[]}},components:{ArtistTop:h,SongList:o["a"],Scroll:c["a"]},methods:Object(r["a"])(Object(r["a"])({getArtistsMessage:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var e,n;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,t.$https.get("/artists?id="+t.artistId);case 2:e=s.sent,n=e.data.artist,t.artistTop={img:n.picUrl,name:n.name,briefDesc:n.briefDesc},t.artistSongs=e.data.hotSongs;case 6:case"end":return s.stop()}}),s)})))()},playAll:function(){var t=this;0!=this.playList.length?this.$dialog.confirm({title:"播放列表",message:"当前播放列表将会被替换，是否确定？",confirmButtonColor:"orangered"}).then((function(){t.selectPlay(t.artistSongs),t.setCurrentIndex(0),t.setMode(1)})).catch((function(){})):(this.selectPlay(this.artistSongs),this.setCurrentIndex(0),this.setMode(1))}},Object(m["b"])(["selectPlay"])),Object(m["d"])({setCurrentIndex:"SET_CURRENT_INDEX",setMode:"SET_MODE"})),computed:Object(r["a"])({},Object(m["c"])(["playList"])),created:function(){this.artistId=this.$route.params.artistId,this.getArtistsMessage()}},v=b,_=(e("b501"),Object(f["a"])(v,n,a,!1,null,"e9715a2c",null));s["default"]=_.exports}}]);
//# sourceMappingURL=chunk-360b5b8e.deacbb60.js.map